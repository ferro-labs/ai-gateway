# Ferro AI Gateway environment template
# Copy this file to .env and fill required values.
# Note: This file is only an example/template.
# `make run` does not auto-load `.env`; export variables into your shell environment first.
# Example: `set -a; source .env; set +a`

# =========================
# Core
# =========================
# Path to YAML/JSON gateway config file
GATEWAY_CONFIG=./config.json

# HTTP server port (default: 8080)
PORT=8080

# Optional CORS allowlist (comma-separated)
# Example: CORS_ORIGINS=http://localhost:3000,https://admin.example.com
CORS_ORIGINS=*

# =========================
# Optional persistent stores
# =========================
# Runtime config store: memory (default) | sqlite | postgres
CONFIG_STORE_BACKEND=memory
CONFIG_STORE_DSN=

# API key store: memory (default) | sqlite | postgres
API_KEY_STORE_BACKEND=memory
API_KEY_STORE_DSN=

# Request log admin store: sqlite | postgres (unset/empty = disabled)
# Note: /admin/logs and /admin/logs/stats require these env vars.
# Plugin config (request-logger persist/backend/dsn) alone is not enough.
REQUEST_LOG_STORE_BACKEND=
REQUEST_LOG_STORE_DSN=

# =========================
# Provider credentials
# =========================
# At least ONE provider API key is required for model requests.
OPENAI_API_KEY=

# Optional providers
ANTHROPIC_API_KEY=
GEMINI_API_KEY=
GROQ_API_KEY=
MISTRAL_API_KEY=
TOGETHER_API_KEY=
COHERE_API_KEY=
DEEPSEEK_API_KEY=

# Azure OpenAI (set all when using azure-openai target)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_DEPLOYMENT=
AZURE_OPENAI_API_VERSION=

# Ollama (when using local/self-hosted Ollama)
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODELS=

# =========================
# Admin API notes
# =========================
# Admin routes (/admin/*) use Bearer API keys from the gateway key store.
# Optional bootstrap admin bearer key for first-run write access.
# When set, this key is accepted for /admin/* authentication and has admin scope.
ADMIN_BOOTSTRAP_KEY=xyzabcdefghlidjdidjdkd
# Optional bootstrap read-only bearer key for first-run dashboard/read access.
# When set, this key is accepted for /admin/* authentication and has read_only scope.
ADMIN_BOOTSTRAP_READ_ONLY_KEY=
# Optional safety switch (default: true). Set false to fully disable bootstrap auth.
ADMIN_BOOTSTRAP_ENABLED=true
# Bootstrap keys are only honored while the API key store is empty.
# After creating persistent API keys via /admin/keys, unset bootstrap values.
# Create admin-scoped keys via /admin/keys and use:
# Authorization: Bearer gw-...

# =========================
# Test-only
# =========================
# PostgreSQL DSN for integration tests
# FERROGW_TEST_POSTGRES_DSN=postgres://user:pass@localhost:5432/ferrogw_test?sslmode=require